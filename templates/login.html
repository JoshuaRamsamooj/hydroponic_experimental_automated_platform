
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="HEAP">
    <meta name="author" content="Joshua Ramsamooj">
    <link rel="icon" href="{{ url_for ('static', filename = 'img/logo.ico')}}">

    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  
    <link rel="apple-touch-icon" sizes="57x57" href="{{ url_for ('static', filename = 'img/apple-touch-icon-57x57.png')}}" />
      
    <link rel="apple-touch-icon" sizes="72x72" href="{{ url_for ('static', filename = 'img/apple-touch-icon-72x72.png')}}" />
      
    <link rel="apple-touch-icon" sizes="76x76" href="{{ url_for ('static', filename = 'img/apple-touch-icon-76x76.png')}}" />
      
    <link rel="apple-touch-icon" sizes="114x114" href="{{ url_for ('static', filename = 'img/apple-touch-icon-144x144.png')}}" />
      
    <link rel="apple-touch-icon" sizes="120x120" href="{{ url_for ('static', filename = 'img/apple-touch-icon-120x120.png')}}" />
      
    <link rel="apple-touch-icon" sizes="144x144" href="{{ url_for ('static', filename = 'img/apple-touch-icon-144x144.png')}}" />
      
    <link rel="apple-touch-icon" sizes="152x152" href="{{ url_for ('static', filename = 'img/apple-touch-icon-152x152.png')}}" />
      
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for ('static', filename = 'img/apple-touch-icon-180x180.png')}}" />

    <title>HEAP</title>

    <!-- Bootstrap core CSS -->
    <link href="{{ url_for ('static', filename = 'css/bootstrap.min.css')}}" rel="stylesheet">

    <link href="{{ url_for ('static', filename = 'css/bootstrap-toggle.min.css')}}" rel="stylesheet">

    <link href="{{ url_for ('static', filename = 'css/main.css')}}" rel="stylesheet">

  </head>

  <body>

    <div class="container col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-8 col-xs-offset-2">
    <div class="jumbotron">
      <img src="{{ url_for ('static', filename = 'img/logot.png')}}" class="img-responsive center-block" alt="Responsive image">
      
      <form action="javascript: this.preventDefault" id="loginForm">
      <br>
      <br>
        
        <div class="form-group">
          <input type="name" class="form-control" name="username" placeholder="Username">
        </div>
        <div class="form-group">
          <input type="password" class="form-control" name="password" placeholder="Password">
        </div>
        <div class="text-center">
        <button type="submit" class="btn btn-default" id="login">Login</button>
        </div>
      </form>

    <div id="loginErrorAlert" style="display: none">
    <br>
    <div class="alert alert-danger">
      <strong>Error!</strong> Unable to login
    </div>
    </div>


    </div> <!-- /container -->
    </div> <!-- /jumbotron -->


    <script src="{{ url_for ('static', filename = 'js/jquery.min.js')}}"></script>
    <script src="{{ url_for ('static', filename = 'js/bootstrap.min.js')}}"></script>


    <script type="text/javascript">
    $( document ).ready(function() {
        
        $('#login').on('click', function(){
          loginForm = $("#loginForm")
          username = loginForm.find('input[name="username"]').val();
          password = loginForm.find('input[name="password"]').val();

          $.ajax({
            data: {
                username: username,
                password: password
            },
            type: 'POST',
            url: '/login',
            success: function(data){
                if (data.status == true){
                  window.location.href= "/"
                   
                }
                else{
                    $('#loginErrorAlert').fadeIn("slow");
             
                }
            }
        });
      });
    });


    </script>




  </body>
</html>
